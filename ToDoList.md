# To do list

## 1.数据有效性

​	在已有代码基础上，对数据传输部分做以下修改

* 修改数据格式，从6个uint8改为3个int16，2个int8，具体情况以.msg中的内容为准
* 约定-1表示该包内该项数据无效，此时折线图及显示面板中该项数据的数值保持不变，MySQL中记录为无效（例如记录为-1）
* QChart控件中，当某个chart中涉及到的数据全部无效时，该chart不更新此包数据内容；当涉及到的数据只有部分更新时，未更新的数据维持上一次的数据进行绘图
* 已知收缩压与舒张压必定成对出现，两者在同一包数据内有效性相同

## 2.编号生成机制

​	病人编号生成需要做以下改动

* 病人编号改回自然数编码
* 在patient表中额外记录病人的日期、开始时间
* 保持自动编码功能，对病人编号自动加一

## 3.性别信息录入

​	将性别信息录入从原来的两栏改为

| 条目 | MySQL存储数值 |
| ---- | ---- |
| 待输入 | 0 |
| 男 | 1 |
| 女 | 2 |

​	默认选择为待输入，以防止未录入信息的病人的信息录入错误

## 4.2K屏幕显示支持

​	现阶段2K分辨率屏幕的支持效果不好，需要对高分辨率屏幕进行修正

## 5.注射器控件

​	包括图示百分比、文字显示注射毫升数的功能

## 6.启动界面

​	启动界面背景透明，显示PNG格式的图片，在一定时间后生成MainWindow并将自己析构

## 7.警告修正

​	在运行过程中出现了以下警告

* duplicate connection
* unknown property

## 8.显示界面更新

​	在显示界面做如下更新

* 考虑到数据更新频率，心率和血氧放在一个chart，BIS单独放置
* SYSP是高压，DIAP是低压，现在两者的显示相反
* 收缩压在舒张压的左侧显示
* 医生对红色比较敏感，故数字显示改为绿色。同时，当数据范围超出.ini中定义的下限-上限时，显示为红色

## 9.注射信息输入

​	完善监测界面左下角的注射信息输入功能，包括以下内容

* 第一栏，文字提示“舒芬太尼”，提供文本输入框，以及确认按键
* 第二栏，文字提示“丙泊酚”，提供文本输入框，以及确认按键
* 提供撤销按键，将上一次的输入撤回。撤回前弹出窗口确认。两种药物共用一个撤销按键
* 提供信息显示窗口，显示输入与撤销的具体信息
* 完成相应的数据库操作，记录操作的数值与时间信息
* 未来扩展时药物的种类可能增加，但几个月内增加的概率较小

## 10.信息输入界面调整

​	完善功能，美化界面

* Tab键切换顺序：身高->体重->年龄->开始录制
* 开始录制自动保存患者信息，确定键只用于记录中途对信息的更改
* 布局调整，放大组件大小与字体大小
* 右上角会插入一张图标的png

## 11.数据库导出方式

​	能够用方便的方法将数据库导出

## 12.注射信息撤销

​	注射信息的撤销需要作以下更新

* 两种药物的注射信息需要分别在两个窗口显示，设置两个撤销按钮分别按照时间顺序撤销两个药物的注射信息
* 药物注射信息提交的时候不需要弹出窗口确认提交，但是药物注射信息撤销的时候需要弹出窗口确认撤销

## 13.注射信息输入优化

在已有的三个面板基础上，增加注射面板，内容如下

* 注射药物种类扩充为5种
* 增加文字输入信息记录，数据库中记录为患者编号+字符串+时间戳的格式
* 提供常用信息快速输入按钮，个数暂定为3

